1. Install raspbian lite 32 bit to drive. 

2. Put [ssh] and [wpa_supplicant.conf] in boot drive. 

3. RPi connected with pi@raspberrypi.local, pwd: raspberry 

4. # somehow get the install_pkg.py 
   # Method 1. sudo curl -L <url> -o /home/pi/install_pkg.py
   # current url: https://raw.githubusercontent.com/AptitudeCodebase/covid_sensor/hui-branch/RPi/backend/app/setup/install_pkg.py?token=AKU4I2ALOTFFXL5PHN2P53S7ER5SC


Preferred method:
4. # Method 2. 
sudo apt install git
    then go to step 6.

5. sudo python3 install_pkg.py

6. clone git to directory with password configured:

sudo git config --global credential.helper store 
sudo git clone https://github.com/AptitudeCodebase/covid_sensor.git

>>> enter password.

[optional] 

cd covid_sensor
sudo git checkout hui-branch

7. Run setup script:

sudo python3 ~/covid_sensor/app/setup/install.py

Pi will be renamed to new name. 
Write down the name to be able to access Pi.

8. set password
sudo raspi-config
# Then select according to options.

Note: There are some safety issues with password etc.




Brief Steps:


====================================================================================
Brief Steps:

=======
Brief Steps:


tl sp
OR
ssh pi@raspberrypi.local -o "UserKnownHostsFile /dev/null" 

password: raspberry

sudo raspi-config
Change password to ams

sudo apt install git

sudo git config --global credential.helper store 
sudo git clone https://github.com/AptitudeCodebase/covid_sensor.git

cd covid_sensor
sudo git checkout hui-branch
sudo python3 ~/covid_sensor/app/setup/install.py


To setup Jupyter notebook:
sudo python3 ~/covid_sensor/app/setup/install.py
Select -9
Then run
sudo jupyter notebook password
====================================================================================





====================================================================================
====================================================================================
cloning to SD card.
https://www.howtogeek.com/341944/how-to-clone-your-raspberry-pi-sd-card-for-foolproof-backup/
use Win32 Disk Imager

To setup the device_ID, write a device_id.json file to /boot
the json file contains the following field:
"SYSTEM_SERIAL": "742013734704",
"SYSTEM_SEED": 161187743405682701459434003873995123878,
"SYSTEM_ID": "AMS-TNV",
"SYSTEM_ID_LONG": "AMS-TNVOPS"

=======




███████╗██████╗      ██████╗██╗      ██████╗ ███╗   ██╗███████╗
██╔════╝██╔══██╗    ██╔════╝██║     ██╔═══██╗████╗  ██║██╔════╝
███████╗██║  ██║    ██║     ██║     ██║   ██║██╔██╗ ██║█████╗  
╚════██║██║  ██║    ██║     ██║     ██║   ██║██║╚██╗██║██╔══╝  
███████║██████╔╝    ╚██████╗███████╗╚██████╔╝██║ ╚████║███████╗
╚══════╝╚═════╝      ╚═════╝╚══════╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝

device information is saved to app/settings/device_id.json
this file is auto generated if not exist upon system start.
if /boot/device_id.json exists, it will copy the device informaiton from there.
then the hostname and accesspoint name of the device will be updated automatically.
Also remove wifi password in /etc/wpa_supplicant/wpa_supplicant-wlan0.conf





========================
██╗    ██╗███████╗██████╗ ███████╗███████╗██████╗ ██╗   ██╗███████╗██████╗ 
██║    ██║██╔════╝██╔══██╗██╔════╝██╔════╝██╔══██╗██║   ██║██╔════╝██╔══██╗
██║ █╗ ██║█████╗  ██████╔╝███████╗█████╗  ██████╔╝██║   ██║█████╗  ██████╔╝
██║███╗██║██╔══╝  ██╔══██╗╚════██║██╔══╝  ██╔══██╗╚██╗ ██╔╝██╔══╝  ██╔══██╗
╚███╔███╔╝███████╗██████╔╝███████║███████╗██║  ██║ ╚████╔╝ ███████╗██║  ██║
 ╚══╝╚══╝ ╚══════╝╚═════╝ ╚══════╝╚══════╝╚═╝  ╚═╝  ╚═══╝  ╚══════╝╚═╝  ╚═╝
install apache2 web server                                                               
============
sudo apt install apache2 -y
/var/www/html is the default webpage
then use scp to copy files over
scp -r /path/to/local/folder pi@ams-pgh:/var/www/html

if need to rewire some routes , need to change apache2 mod_rewrite settings
in the website root folder, add a .htaccess file with following content:

Options -MultiViews
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.html [QSA,L]


also change /etc/apache2/apache2.conf
<Directory "/path/to/document/root/">
  AllowOverride All
</Directory>


